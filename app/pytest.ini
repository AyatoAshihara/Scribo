[pytest]
# テストディレクトリ
testpaths = tests

# Python パス
pythonpath = .

# 非同期テストモード
asyncio_mode = auto
asyncio_default_fixture_loop_scope = function

# テストマーカー
markers =
    unit: 単体テスト（外部依存なし、高速）
    e2e: E2Eテスト（実AWS環境使用、低速）

# デフォルトオプション
addopts = -v --tb=short

# 環境変数（テスト用）
env =
    AWS_REGION=ap-northeast-1
    DYNAMODB_EXAM_TABLE=scribo-ipa
    DYNAMODB_SUBMISSION_TABLE=SubmissionTable
    BEDROCK_MODEL_ID=anthropic.claude-3-5-sonnet-20240620-v1:0

# カバレッジ設定
[coverage:run]
source = .
omit = tests/*
